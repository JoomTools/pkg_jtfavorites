/**
 * @package      Joomla.Administrator
 * @subpackage   mod_jtfavorites
 *
 * @author       Guido De Gobbis <support@joomtools.de>
 * @copyright    2020 JoomTools.de - All rights reserved.
 * @license      GNU General Public License version 3 or later
 */
var JtFavorites=window.JtFavorites||{};function modJtFavReady(t){"loading"!=document.readyState?t():document.addEventListener("DOMContentLoaded",t)}!function(t,e){"use strict";t.sendData=function(t){var e=new XMLHttpRequest,n=new FormData(t);e.addEventListener("load",function(t){location.reload()}),e.addEventListener("error",function(t){console.error("mod_jtfavorites: Oops! Something went wrong on sending form data.")}),e.open("POST",t.getAttribute("action")),e.send(n)},t.submitform=function(n,a,o){a.addEventListener("submit",function(e){e.preventDefault(),t.sendData(a)}),n&&(a.task.value=n),a.noValidate=!o,o?a.hasAttribute("novalidate")&&a.removeAttribute("novalidate"):a.setAttribute("novalidate","");var i=e.createElement("input");i.style.display="none",i.type="submit",a.appendChild(i).click(),a.removeChild(i)},t.findAncestorForm=function(t){var n=t.match(/^[a-zA-Z]+/);return null!=n&&e.querySelector("#"+n.toString())},t.listItemTask=function(e,n){var a,o=t.findAncestorForm(e),i=0,r=o[e];if(!r)return!1;for(;a=o["cb"+i];)a.checked=!1,i++;r.checked=!0,o.boxchecked.value=1;var c=n.split(".",1);return o.setAttribute("action",o.getAttribute("data-"+c+"-action")),t.submitform(n,o),!1},t.changeListItemTask=function(){var t=e.querySelectorAll(".mod_jtfavorites *[onclick*=listItemTask]");Array.prototype.forEach.call(t,function(t){var e=t.getAttribute("onclick");t.setAttribute("onclick",e.replace("listItemTask","JtFavorites.listItemTask"))})}}(JtFavorites,document),modJtFavReady(JtFavorites.changeListItemTask);